# Telegram-бот анализа достоверности новостей

Этот проект представляет собой Telegram-бота, который анализирует подлинность новостей, проверяя факты из текста через поисковый API Яндекса и нейросетевую модель YandexGPT. Бот оценивает достоверность информации, выявляет внутренние противоречия и ищет подтверждающие источники.

## Оглавление
- [Описание](#описание)
- [Функционал](#функционал)
- [Установка и настройка](#установка-и-настройка)
- [Использование](#использование)
- [Технологии](#технологии)

## Описание
Бот предназначен для проверки достоверности новостных материалов. Он:
- Извлекает проверяемые факты из текста
- Ищет подтверждающие источники через Yandex Search API
- Анализирует согласованность фактов с найденными источниками
- Формирует комплексную оценку достоверности информации

## Функционал
- Анализ текста на эмоциональную окраску и логическую непротиворечивость
- Проверка фактов через поисковый API
- Оценка качества найденных источников
- Формирование отчета с оценкой достоверности (от 0 до 100)
- Поддержка длинных текстов (до 1500 символов)

## Установка и настройка

### 1. Клонирование репозитория
```bash
git clone https://github.com/noircoba/factcheckbot.git
cd factcheckbot
```

### 2. Настройка конфигурации
Создайте файл `config.py` с следующим содержанием:
```python
TELEGRAM_TOKEN = 'your_telegram_bot_token'  # Токен от BotFather
YANDEX_USER = 'your_yandex_user'            # Логин сервисного аккаунта
YANDEX_API_KEY = 'your_yandex_api_key'      # API-ключ
YANDEX_FOLDER_ID = 'your_folder_id'         # Идентификатор каталога
YANDEX_SEARCH_URL = 'https://yandex.ru/search/xml'  # URL API
```

### 3. Запуск контейнеров
```bash
# Запуск Ollama с поддержкой GPU
docker run -d --name ollama --restart always --gpus all  \
   -v ollama:/root/.ollama -p 11434:11434 ollama/ollama

# Сборка и запуск бота
docker build -t factcheckbot_yac .
docker run -d --name factcheckbot_yac --restart always \
  --add-host=host.docker.internal:host-gateway \
  --link ollama -e OLLAMA_HOST="http://ollama:11434" \
  factcheckbot_yac
```

## Использование
1. Запустите Telegram и найдите своего бота по имени
2. Отправьте текст новости для анализа
3. Дождитесь ответа с комплексной оценкой достоверности
4. Изучите отчет, который включает:
   - Общую оценку достоверности (0-100)
   - Анализ соответствия фактам
   - Вывод о надежности информации
   - Сильные стороны и проблемные места
   - Ссылки на источники

## Технологии
- [Python 3.10+](https://www.python.org/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Yandex Search API](https://yandex.ru/dev/xml/doc/dg/)
- [Ollama](https://ollama.ai/) с моделью YandexGPT
- [Docker](https://www.docker.com/) для контейнеризации

---
